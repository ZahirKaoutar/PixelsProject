<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Détails du jeu</title>
       <link href="../src/output.css" rel="stylesheet" />

    
</head>
<body style="background-image: url('./IMG/bg.jpg')" class="min-h-screen bg-cover bg-center bg-no-repeat">
    
    <div id="game-details"></div>
    <footer class="relative flex justify-between items-center mt-10 bottom-0 left-0 w-full bg-opacity-90 text-white py-6 px-8 z-50">

        <div><img  src="IMG/logo (1).png"></div>
        <ul class="flex flex-col items-center space-y-6 mt-10">
                <li><a href="home.html" class="hover:text-blue-300 transition text-lg">Accueil</a></li>
                <li><a href="favoris.html" class="hover:text-blue-300 transition text-xl">Favoris</a></li>
        </ul>
         <ul class="flex  items-center space-x-6 mt-10">
                <li><a href="#" class="hover:text-blue-300 transition text-xl"><img src="IMG/image-removebg-preview 1 (1).png"></a></li>
                <li><a href="#" class="hover:text-blue-300 transition text-xl"><img src="IMG/image-removebg-preview (1) 1.png"></a></li>
        </ul>
        
    </footer>
    
   
    
    <script>
        async function showGame() {
            const params = new URLSearchParams(window.location.search);
            const gameid = params.get('gameid');

            if (!gameid) {
                document.getElementById('game-details').innerHTML = "<div>Jeu non trouvé</div>";
                return;
            }

            try {
                const response = await fetch(`https://debuggers-games-api.duckdns.org/api/games/${gameid}`);
                const game = await response.json();

                document.getElementById('game-details').innerHTML = `<h1 class="text-white text-2xl font-black text-center  mt-10">  ${game.name}</h1>
                 
  
                    <div class="flex  justify-center">
                            <img src="${game.background_image}" class="rounded-md   w-[90%]" alt="${game.name}">
                    </div>
                    
                    <div class="max-h-80 overflow-y-auto pr-2 custom-scrollbar  mt-9 bg-white bg-opacity-50 p-4 "">
                        <div class="flex    items-center gap-2">
                             <img src="${game.background_image}" class="rounded-xl   w-[50%]" alt="${game.name}">
                             <h4 class="text-red-600 text-lg font-bold" >${game.name}</h4>
                            
                        </div>
                        
                        <p class=" text-bold txt-sm">
                            ${game.description || 'Description non disponible'}
                        </p>
                    </div>
                    <div class="w-[90%] h-10 m-auto mt-6 bg-gray-400  "> <span class="font-bold">Genre</span> : ${game.genres.map(e=>`<span class="text-sm  ">${e.name}</span>`)}</div>
                    <div class="w-[90%] h-10  m-auto mt-6 bg-gray-400 "> <span class="font-bold">Note</span>: ${game.rating} </div>
                    <div class="w-[90%] h-10  m-auto mt-6 bg-gray-400 "> <span class="font-bold">Editeur/studio</span>:  ${game.developers.map(e=>`<span class="text-sm">${e.name}</span>`) }</div>
                    <div class="w-[90%] h-10 m-auto mt-6 bg-gray-400  "> <span class="font-bold">Date apparaitre</span> :${game.released} </div>`
            } catch (error) {
                document.getElementById('game-details').innerHTML = "<div>Erreur lors du chargement du jeu</div>";
            }
        }

        showGame();
    </script>
</body>
</html>